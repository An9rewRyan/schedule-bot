# üìä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Mini App

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –±–µ–∑ —Å–º–µ—à–∏–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

```
logs/
‚îú‚îÄ‚îÄ miniapp_starter.log    # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ ngrok.log             # –õ–æ–≥–∏ ngrok —Ç—É–Ω–Ω–µ–ª–µ–π
‚îú‚îÄ‚îÄ backend.log           # –õ–æ–≥–∏ FastAPI —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ frontend.log          # –õ–æ–≥–∏ frontend —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄ‚îÄ telegram_bot.log      # –õ–æ–≥–∏ Telegram –±–æ—Ç–∞
```

## üîß –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
python view_logs.py

# –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
python view_logs.py -s main      # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
python view_logs.py -s backend   # Backend —Å–µ—Ä–≤–µ—Ä
python view_logs.py -s frontend  # Frontend —Å–µ—Ä–≤–µ—Ä
python view_logs.py -s ngrok     # Ngrok —Ç—É–Ω–Ω–µ–ª–∏
python view_logs.py -s bot       # Telegram –±–æ—Ç
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–∫–∞–∫ tail -f)
python view_logs.py -f backend.log
python view_logs.py -f telegram_bot.log

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å—Ç—Ä–æ–∫
python view_logs.py -t 100       # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –≤—Å–µ—Ö –ª–æ–≥–æ–≤
python view_logs.py -s backend -t 50  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ backend

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–∞—Ö –ª–æ–≥–æ–≤
python view_logs.py -l           # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏
```

## üöÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ó–∞–ø—É—Å–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1** - –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
python start_miniapp_https.py
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ backend:
```bash
python view_logs.py -f backend.log
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–∞:
```bash
python view_logs.py -f telegram_bot.log
```

### –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
python view_logs.py -t 20

# –ù–∞–π—Ç–∏ –æ—à–∏–±–∫–∏ –≤ backend
python view_logs.py -s backend -t 100 | grep -i error

# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å ngrok –¥–ª—è –ø—Ä–æ–±–ª–µ–º —Å —Ç—É–Ω–Ω–µ–ª—è–º–∏
python view_logs.py -f ngrok.log
```

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
python view_logs.py -s main

# –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
python view_logs.py -s backend | grep "–í–•–û–î–Ø–©–ò–ô –ó–ê–ü–†–û–°"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å ngrok —Ç—É–Ω–Ω–µ–ª–µ–π
python view_logs.py -s ngrok
```

## üìä –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### miniapp_starter.log:
- –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ ngrok URL
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

### backend.log:
- –ó–∞–ø—É—Å–∫ FastAPI —Å–µ—Ä–≤–µ—Ä–∞
- –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã
- –û—à–∏–±–∫–∏ API
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- CORS –∑–∞–ø—Ä–æ—Å—ã

### frontend.log:
- –ó–∞–ø—É—Å–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞
- –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –û—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

### telegram_bot.log:
- –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
- –û—à–∏–±–∫–∏ –±–æ—Ç–∞
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### ngrok.log:
- –°—Ç–∞—Ç—É—Å —Ç—É–Ω–Ω–µ–ª–µ–π
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –û—à–∏–±–∫–∏ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è

## üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `start_miniapp_https.py`:

1. **–°–æ–∑–¥–∞–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è** `logs/`
2. **–û—á–∏—â–∞—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
3. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
4. **–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤—ã–≤–æ–¥** –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ —Å–≤–æ–π —Ñ–∞–π–ª

## üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫:
```bash
# –í—Å–µ –æ—à–∏–±–∫–∏
python view_logs.py | grep -i error

# –û—à–∏–±–∫–∏ backend
python view_logs.py -s backend | grep -i error

# –û—à–∏–±–∫–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
python view_logs.py -s backend | grep -B 2 -A 2 -i error
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏:
```bash
# –õ–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –º–∏–Ω—É—Ç (–ø—Ä–∏–º–µ—Ä–Ω–æ)
python view_logs.py -t 200

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è
python view_logs.py -s backend | grep "17:52:"
```

### –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞:
```bash
# –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
python view_logs.py -s backend | grep "–í–•–û–î–Ø–©–ò–ô –ó–ê–ü–†–û–°"

# –¢–æ–ª—å–∫–æ POST –∑–∞–ø—Ä–æ—Å—ã
python view_logs.py -s backend | grep "POST"

# –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
python view_logs.py -s backend | grep "–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏"
```

## üéõ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```bash
#!/bin/bash
# monitor.sh
python view_logs.py -f backend.log &
python view_logs.py -f telegram_bot.log &
wait
```

### –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤:
```bash
# –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤ –ª–æ–≥–æ–≤
tar -czf logs_$(date +%Y%m%d_%H%M%S).tar.gz logs/

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏
rm -rf logs/*
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å logrotate
2. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ELK stack
3. **–ê–ª–µ—Ä—Ç—ã** - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
4. **–ú–µ—Ç—Ä–∏–∫–∏** - —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ –ª–æ–≥–æ–≤

## üÜò –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la logs/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep start_miniapp_https.py
```

### –§–∞–π–ª—ã –ª–æ–≥–æ–≤ –ø—É—Å—Ç—ã–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
ps aux | grep -E "(ngrok|python.*main|python.*start_miniapp)"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:8000/health
curl http://localhost:3000
```

### –õ–æ–≥–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
python view_logs.py -l

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
rm -rf logs/*.log
```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –≤–∏–¥–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Mini App. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –æ—Ç–ª–∞–¥–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. 